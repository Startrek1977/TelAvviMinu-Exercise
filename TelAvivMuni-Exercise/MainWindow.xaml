<Window x:Class="TelAvivMuni_Exercise.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="clr-namespace:TelAvivMuni_Exercise.Controls"
        xmlns:local="clr-namespace:TelAvivMuni_Exercise.Models"
        xmlns:vm="clr-namespace:TelAvivMuni_Exercise.ViewModels"
        Title="Tel-Aviv Muni - Exercise"
        Width="520"
        Height="430">
  <Window.DataContext>
    <vm:MainWindowViewModel />
  </Window.DataContext>
  <Grid>
    <StackPanel Margin="20">
      <!--  Header  -->
      <TextBlock Margin="0,0,0,5"
                 FontSize="24"
                 FontWeight="Bold"
                 Text="DataBrowserBox Control" />
      <TextBlock Margin="0,0,0,20"
                 FontSize="12"
                 Foreground="Gray"
                 Text="A reusable WPF control for browsing and selecting items from a collection" />

      <!--  Example 1  -->
      <Border Margin="0,0,0,15"
              Padding="15"
              Background="White"
              CornerRadius="5">
        <StackPanel>
          <TextBlock Margin="0,0,0,5"
                     FontSize="14"
                     FontWeight="SemiBold"
                     Text="Example 1: Auto-generated Columns" />
          <TextBlock Margin="0,0,0,10"
                     FontSize="11"
                     Foreground="Gray"
                     Text="Columns are automatically generated from the object properties." />

          <Grid>
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="60" />
              <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <TextBlock VerticalAlignment="Center"
                       Text="Product:" />
            <controls:DataBrowserBox Grid.Column="1"
                                     Height="30"
                                     DialogService="{StaticResource DialogService}"
                                     DialogTitle="בחר מוצר"
                                     DisplayMemberPath="Name"
                                     ItemsSource="{Binding Products}"
                                     SelectedItem="{Binding SelectedProduct1, Mode=TwoWay}" />
          </Grid>

          <TextBlock Margin="60,5,0,0"
                     FontSize="11"
                     Foreground="Gray"
                     Text="No selection">
            <TextBlock.Style>
              <Style TargetType="TextBlock">
                <Setter Property="Visibility" Value="Hidden" />
                <Style.Triggers>
                  <DataTrigger Binding="{Binding SelectedProduct1}"
                               Value="{x:Null}">
                    <Setter Property="Visibility" Value="Visible" />
                  </DataTrigger>
                </Style.Triggers>
              </Style>
            </TextBlock.Style>
          </TextBlock>
        </StackPanel>
      </Border>

      <!--  Example 2  -->
      <Border Padding="15"
              Background="White"
              CornerRadius="5">
        <StackPanel>
          <TextBlock Margin="0,0,0,5"
                     FontSize="14"
                     FontWeight="SemiBold"
                     Text="Example 2: Custom Column Configuration" />
          <TextBlock Margin="0,0,0,10"
                     FontSize="11"
                     Foreground="Gray"
                     Text="Columns are explicitly defined with custom headers, widths, and formats." />

          <Grid>
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="60" />
              <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <TextBlock VerticalAlignment="Center"
                       Text="Product:" />
            <controls:DataBrowserBox Grid.Column="1"
                                     Height="30"
                                     DialogService="{StaticResource DialogService}"
                                     DialogTitle="בחר מוצר"
                                     DisplayMemberPath="Name"
                                     ItemsSource="{Binding Products}"
                                     SelectedItem="{Binding SelectedProduct2, Mode=TwoWay}">
              <controls:DataBrowserBox.Columns>
                <local:BrowserColumn Width="200"
                                     DataField="Name"
                                     Header="שם מוצר" />
                <local:BrowserColumn Width="100"
                                     HorizontalAlignment="Right"
                                     DataField="Price"
                                     Format="C2"
                                     Header="מחיר" />
                <local:BrowserColumn Width="150"
                                     DataField="Category"
                                     Header="קטגוריה" />
              </controls:DataBrowserBox.Columns>
            </controls:DataBrowserBox>
          </Grid>

          <TextBlock Margin="60,5,0,0"
                     FontSize="11"
                     Foreground="Gray"
                     Text="No selection">
            <TextBlock.Style>
              <Style TargetType="TextBlock">
                <Setter Property="Visibility" Value="Hidden" />
                <Style.Triggers>
                  <DataTrigger Binding="{Binding SelectedProduct2}"
                               Value="{x:Null}">
                    <Setter Property="Visibility" Value="Visible" />
                  </DataTrigger>
                </Style.Triggers>
              </Style>
            </TextBlock.Style>
          </TextBlock>
        </StackPanel>
      </Border>
    </StackPanel>
  </Grid>
</Window>
