<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="clr-namespace:TelAvivMuni_Exercise.Controls">

  <!--  DataBrowserBox Control Style  -->
  <Style TargetType="{x:Type controls:DataBrowserBox}">
    <Setter Property="Background" Value="{StaticResource WhiteBrush}" />
    <Setter Property="BorderBrush" Value="{StaticResource BorderLightBrush}" />
    <Setter Property="BorderThickness" Value="1" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type controls:DataBrowserBox}">
          <Border Background="{TemplateBinding Background}"
                  BorderBrush="{TemplateBinding BorderBrush}"
                  BorderThickness="{TemplateBinding BorderThickness}">
            <Grid>
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
              </Grid.ColumnDefinitions>
              <!--  Selected product general icon  -->
              <Viewbox Grid.Column="0"
                       Width="18"
                       Height="18"
                       Margin="5,0,0,0"
                       VerticalAlignment="Center">
                <Path Data="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z M3.29 7 L12 12 L20.71 7 M12 22 L12 12"
                      Fill="Transparent"
                      Stretch="Uniform"
                      Stroke="{StaticResource PrimaryDarkBrush}"
                      StrokeEndLineCap="Round"
                      StrokeLineJoin="Round"
                      StrokeStartLineCap="Round"
                      StrokeThickness="2" />
              </Viewbox>
              <!--  Wrap TextBox in inner Grid for overlay  -->
              <Grid Grid.Column="1">
                <TextBox x:Name="PART_TextBox"
                         Opacity="0.5"
                         Style="{StaticResource DataBrowserTextBoxStyle}"
                         Text="Click to select..." />

                <Button x:Name="PART_ClearButton"
                        Width="20"
                        Height="20"
                        Margin="5,0,5,0"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center"
                        Background="Transparent"
                        BorderThickness="0"
                        Content="&#x2715;"
                        Cursor="Hand"
                        FontSize="12"
                        Foreground="{StaticResource TextDisabledBrush}">
                  <Button.Style>
                    <Style TargetType="Button">
                      <Setter Property="Visibility" Value="Visible" />
                      <Setter Property="Template">
                        <Setter.Value>
                          <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}"
                                    CornerRadius="10">
                              <ContentPresenter HorizontalAlignment="Center"
                                                VerticalAlignment="Center" />
                            </Border>
                            <ControlTemplate.Triggers>
                              <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="{StaticResource NeutralHoverBrush}" />
                              </Trigger>
                            </ControlTemplate.Triggers>
                          </ControlTemplate>
                        </Setter.Value>
                      </Setter>
                      <Style.Triggers>
                        <DataTrigger Binding="{Binding SelectedItem, RelativeSource={RelativeSource TemplatedParent}}"
                                     Value="{x:Null}">
                          <Setter Property="Visibility" Value="Collapsed" />
                        </DataTrigger>
                      </Style.Triggers>
                    </Style>
                  </Button.Style>
                </Button>
              </Grid>
              <Button x:Name="PART_BrowseButton"
                      Grid.Column="2"
                      Style="{StaticResource BrowseButtonStyle}" />
            </Grid>
          </Border>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

</ResourceDictionary>
