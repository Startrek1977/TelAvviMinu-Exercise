<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="clr-namespace:TelAvivMuni_Exercise.Controls">

  <!-- DataBrowserBox Control Style -->
  <Style TargetType="{x:Type controls:DataBrowserBox}">
    <Setter Property="Background" Value="White" />
    <Setter Property="BorderBrush" Value="#CCCCCC" />
    <Setter Property="BorderThickness" Value="1" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type controls:DataBrowserBox}">
          <Border Background="{TemplateBinding Background}"
                  BorderBrush="{TemplateBinding BorderBrush}"
                  BorderThickness="{TemplateBinding BorderThickness}">
            <Grid>
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
              </Grid.ColumnDefinitions>

              <!-- Wrap TextBox in inner Grid for overlay -->
              <Grid Grid.Column="0">
                <TextBox x:Name="PART_TextBox"
                         Style="{StaticResource DataBrowserTextBoxStyle}"
                         Opacity="0.5"
                         Text="Click to select..." />

                <Button x:Name="PART_ClearButton"
                        Margin="5,0,5,0"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center"
                        Width="20"
                        Height="20"
                        Background="Transparent"
                        BorderThickness="0"
                        Content="&#x2715;"
                        Cursor="Hand"
                        FontSize="12"
                        Foreground="#9E9E9E">
                  <Button.Style>
                    <Style TargetType="Button">
                      <Setter Property="Visibility" Value="Visible" />
                      <Setter Property="Template">
                        <Setter.Value>
                          <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}"
                                    CornerRadius="10">
                              <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center" />
                            </Border>
                            <ControlTemplate.Triggers>
                              <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#F0F0F0" />
                              </Trigger>
                            </ControlTemplate.Triggers>
                          </ControlTemplate>
                        </Setter.Value>
                      </Setter>
                      <Style.Triggers>
                        <DataTrigger Binding="{Binding SelectedItem, RelativeSource={RelativeSource TemplatedParent}}"
                                     Value="{x:Null}">
                          <Setter Property="Visibility" Value="Collapsed" />
                        </DataTrigger>
                      </Style.Triggers>
                    </Style>
                  </Button.Style>
                </Button>
              </Grid>

              <Button x:Name="PART_BrowseButton"
                      Grid.Column="1"
                      Style="{StaticResource BrowseButtonStyle}" />
            </Grid>
          </Border>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

</ResourceDictionary>
